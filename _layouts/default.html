<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ page.title }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="
https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css
"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ 'assets/css/styles.css' | relative_url }}"
    />
    <link rel="icon" href="{{ site.data.theme.favicon | relative_url }}" />
    <style>
      {% if site.data.theme.body_background_image_light %}
        :root {
          --bg-image: url('{{ site.data.theme.body_background_image_light | relative_url }}') repeat;
        }
      {% endif %}
      {% if site.data.theme.body_background_image_dark %}
        [data-bs-theme="dark"] {
          --bg-image: url('{{ site.data.theme.body_background_image_dark | relative_url }}') repeat;
        }
      {% endif %}
    </style>
    {% seo %}
  </head>

  <body class="parallax-bg">
    {% include colors.html %}
    <header
      id="welcome"
      class="container text-center py-5 position-relative px-md-2"
      style="background: url('{{ page.image | default: site.data.theme.header_background_image | relative_url }}') center/cover no-repeat;"
    >
      <div class="header-overlay p-4">
        <h1 class="mb-3">{{ page.title }}</h1>
        <p class="lead" style="position: relative; z-index: 1">
          {{ page.description }}
        </p>
      </div>
    </header>

    <nav
      style="border-radius: 0 0 40px 40px"
      class="navbar navbar-dark fixed-top navbar navbar-expand-md"
      id="mainNavbar"
    >
      <div class="container-fluid">
        <button
          class="navbar-toggler mx-3"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse mx-3" id="navbarNav">
          <ul class="navbar-nav mt-3 mt-md-0">
            {% if site.ui.show_darkmode_toggle %}
            <li class="nav-item">
              <button id="darkModeToggle" class="btn btn-secondary">ðŸŒ™</button>
            </li>
            {% endif %}
            <li class="nav-item">
              <a class="nav-link" href="{{ '/#products' | relative_url }}"
                >{{ site.data.lang[site.lang].our_products }}</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ '/#contact' | relative_url }}"
                >{{ site.data.lang[site.lang].contact }}</a
              >
            </li>
            {% if site.posts.size > 0 %}
            <li class="nav-item">
              <a class="nav-link" href="{{ '/blog' | relative_url }}"
                >{{ site.data.lang[site.lang].blog }}</a
              >
            </li>
            {% endif %}
            <li class="nav-item">
              <a
                class="btn btn-outline-light ms-2 phone-button"
                href="tel:{{ site.data.about.phone }}"
                ><svg
                  fill="#000000"
                  height="25px"
                  width="25px"
                  version="1.1"
                  id="Layer_1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 507.172 507.172"
                  xml:space="preserve"
                >
                  <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                  <g
                    id="SVGRepo_tracerCarrier"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></g>
                  <g id="SVGRepo_iconCarrier">
                    <g>
                      <g>
                        <path
                          d="M253.588,0C113.764,0,0,113.76,0,253.592c0,139.828,113.764,253.58,253.588,253.58s253.584-113.752,253.584-253.58 C507.168,113.76,393.412,0,253.588,0z M387.108,349.432l-24.032,24.036c-1.548,1.548-4.056,1.548-5.604,0L352.5,368.5 c-10.28,6.42-24.424,15.288-26.432,16.624c-2.372,2.256-5.62,3.564-8.948,3.564c-2.464,0-4.872-0.696-6.96-2.024 c-69.444-44.032-145.676-120.276-189.72-189.72c-3.164-5-2.504-11.612,1.524-15.884c1.356-2.08,10.052-16.384,16.34-26.756 l-5.008-5.008c-0.744-0.748-1.16-1.752-1.16-2.804c0-1.048,0.416-2.056,1.16-2.8l24.032-24.036c1.476-1.484,4.108-1.484,5.6,0 l67.132,67.124c0.748,0.744,1.164,1.752,1.164,2.796c0,1.056-0.416,2.064-1.164,2.804l-24.032,24.032 c-1.548,1.544-4.056,1.544-5.608,0l-4.852-4.852l-11.672,11.672c24.924,31.28,68.264,74.66,99.604,99.688l11.712-11.72 l-4.86-4.852c-0.748-0.744-1.164-1.752-1.164-2.804c0-1.04,0.416-2.056,1.164-2.796l24.032-24.048c1.488-1.484,4.12-1.484,5.604,0 l67.116,67.124C388.656,345.376,388.656,347.884,387.108,349.432z"
                        ></path>
                      </g>
                    </g>
                  </g>
                </svg>
                <strong>{{ site.data.lang[site.lang].phone }}:</strong> {{
                site.data.layout.phone }}</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    {{ content }}
    <a href="#" class="position-fixed bottom-0 end-0 m-3" id="backToTop">â–²</a>

    <script src="{{ '/assets/js/script.js' | relative_url }}"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script>
      let lastScrollTop = 0;
      const navbar = document.getElementById("mainNavbar");

      window.addEventListener("scroll", function () {
        const currentScroll =
          window.pageYOffset || document.documentElement.scrollTop;

        if (currentScroll > lastScrollTop) {
          navbar.classList.add("hide-navbar");
        } else {
          navbar.classList.remove("hide-navbar");
        }

        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
      });
    </script>
    <script>
      const backToTopBtn = document.getElementById("backToTop");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 100) {
          backToTopBtn.classList.add("show");
        } else {
          backToTopBtn.classList.remove("show");
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const navbar = document.getElementById("navbarNav");
        const toggler = document.querySelector(".navbar-toggler");

        function isNavbarOpen() {
          return navbar.classList.contains("show");
        }

        function closeNavbar() {
          if (isNavbarOpen()) {
            toggler.click();
          }
        }

        document.addEventListener("click", handleOutsideClickOrTouch);
        document.addEventListener("touchstart", handleOutsideClickOrTouch);

        function handleOutsideClickOrTouch(e) {
          const clickedInsideNavbar = navbar.contains(e.target);
          const clickedToggler = toggler.contains(e.target);

          if (!clickedInsideNavbar && !clickedToggler) {
            closeNavbar();
          }
        }

        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            closeNavbar();
          }
        });

        let lastScrollTop =
          window.pageYOffset || document.documentElement.scrollTop;

        window.addEventListener("scroll", function () {
          const currentScroll =
            window.pageYOffset || document.documentElement.scrollTop;

          if (currentScroll !== lastScrollTop) {
            closeNavbar();
          }

          lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
        });
      });
    </script>
  </body>
</html>
